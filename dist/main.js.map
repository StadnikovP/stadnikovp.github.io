{"version":3,"names":[],"mappings":"","sources":["app.js"],"sourcesContent":["// var _pageShare;\r\n// var moduleApp = {\r\n//     'init': function () {\r\n//         moduleApp.pollifil();\r\n//         moduleApp.sliderSwiper();\r\n//         moduleApp.formValidation();\r\n//     },\r\n//     'pollifil': function(){\r\n//         if (!(\"classList\" in window.document.body)) {\r\n//             Object.defineProperty(Element.prototype, 'classList', {\r\n//                 get: function() {\r\n//                     var self = this, bValue = self.className.split(\" \")\r\n//                     bValue.add = function (){\r\n//                         var b;\r\n//                         for(var i in arguments){\r\n//                             b = true;\r\n//                             for (var j = 0; j<bValue.length;j++)\r\n//                                 if (bValue[j] == arguments[i]){\r\n//                                     b = false;\r\n//                                     break\r\n//                                 }\r\n//                             if(b)\r\n//                                 self.className += (self.className?\" \":\"\")+arguments[i]\r\n//                         }\r\n//                     };\r\n//                     bValue.remove = function(){\r\n//                         self.className = \"\";\r\n//                         for(var i in arguments)\r\n//                             for (var j = 0; j<bValue.length;j++)\r\n//                                 if(bValue[j] != arguments[i])\r\n//                                     self.className += (self.className?\" \" :\"\")+bValue[j]\r\n//                     };\r\n//                     bValue.toggle = function(x){\r\n//                         var b;\r\n//                         if(x){\r\n//                             self.className = \"\";\r\n//                             b = false;\r\n//                             for (var j = 0; j<bValue.length;j++)\r\n//                                 if(bValue[j] != x){\r\n//                                     self.className += (self.className?\" \" :\"\")+bValue[j];\r\n//                                     b = false;\r\n//                                 } else b = true;\r\n//                             if(!b)\r\n//                                 self.className += (self.className?\" \":\"\")+x\r\n//                         } else throw new TypeError(\"Failed to execute 'toggle': 1 argument required\");\r\n//                         return !b;\r\n//                     };\r\n//\r\n//                     return bValue;\r\n//                 },\r\n//                 enumerable: false\r\n//             });\r\n//         };\r\n//\r\n//         (function() {\r\n//             var lastTime = 0;\r\n//             var vendors = ['ms', 'moz', 'webkit', 'o'];\r\n//             for(var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {\r\n//                 window.requestAnimationFrame = window[vendors[x]+'RequestAnimationFrame'];\r\n//                 window.cancelAnimationFrame = window[vendors[x]+'CancelAnimationFrame']\r\n//                     || window[vendors[x]+'CancelRequestAnimationFrame'];\r\n//             }\r\n//\r\n//             if (!window.requestAnimationFrame)\r\n//                 window.requestAnimationFrame = function(callback, element) {\r\n//                     var currTime = new Date().getTime();\r\n//                     var timeToCall = Math.max(0, 16 - (currTime - lastTime));\r\n//                     var id = window.setTimeout(function() { callback(currTime + timeToCall); },\r\n//                         timeToCall);\r\n//                     lastTime = currTime + timeToCall;\r\n//                     return id;\r\n//                 };\r\n//\r\n//             if (!window.cancelAnimationFrame)\r\n//                 window.cancelAnimationFrame = function(id) {\r\n//                     clearTimeout(id);\r\n//                 };\r\n//         }());\r\n//     },\r\n//     'popupOpen': function (content, style, beforeFunction, afterFunction, beforeClose, $subject) {\r\n//         $subject = $subject || $;\r\n//         content = content || '';\r\n//         style = style || 'fb-default-style';\r\n//         beforeFunction = beforeFunction || '';\r\n//         afterFunction = afterFunction || false;\r\n//         beforeClose = beforeClose || false;\r\n//         $subject.fancybox({\r\n//             content: content,\r\n//             wrapCSS: style,\r\n//             padding: 0,\r\n//             margin: 10,\r\n//             fitToView: false,\r\n//             openEffect: 'drop',\r\n//             closeEffect: 'drop',\r\n//             scrolling: 'auto',\r\n//             maxWidth: 1100,\r\n//             //maxWidth:'100%',\r\n//             maxHeight: 800,\r\n//             autoHeight: true,\r\n//             'beforeShow': function () {\r\n//                 if (beforeFunction) {\r\n//                     beforeFunction();\r\n//                 }\r\n//                 hasPlaceholderSupport = function () {\r\n//                     var input = document.createElement('input');\r\n//                     return ('placeholder' in input);\r\n//                 }\r\n//             },\r\n//             'afterShow': function () {\r\n//                 $('.fancybox-wrap').addClass('fancybox-wrap-open');\r\n//                 if (afterFunction) {\r\n//                     afterFunction();\r\n//                 }\r\n//             },\r\n//             'beforeClose': function () {\r\n//                 var $thisWrapper = $('.fancybox-wrap');\r\n//                 if ($thisWrapper.hasClass('fancybox-wrap-close')) {\r\n//                     return true;\r\n//                 } else {\r\n//                     if (beforeClose) {\r\n//                         beforeClose();\r\n//                     }\r\n//                     $thisWrapper.addClass('fancybox-wrap-close');\r\n//                     setTimeout(function () {\r\n//                         $.fancybox.close();\r\n//                     }, 300);\r\n//                     return false;\r\n//                 }\r\n//             }\r\n//         });\r\n//     },\r\n//     'formValidation': function ($submitBtn, submitFunction) {\r\n//         submitFunction = submitFunction || false;\r\n//         $submitBtn = $submitBtn || $('.js-form-submit');\r\n//         var $submitForm = $submitBtn.closest('form');\r\n//         $submitForm.addClass('is-form-validation');\r\n//         var errorValidate = 'Поле обязательно для заполнения';\r\n//         var errorValidate2 = 'Поле заполнено не корректно';\r\n//\r\n//         if(!device.mobile()){\r\n//             if(!device.tablet() || !device.android()){\r\n//                 $submitForm.find('[data-mask=\"phone\"]').mask(\"+7 (999) 999 99 99\", {placeholder: \"-\"});\r\n//             }\r\n//             else{\r\n//                 $submitForm.find('[data-mask=\"phone\"]').attr('type','number');\r\n//             }\r\n//         }\r\n//         else{\r\n//             $submitForm.find('[data-mask=\"phone\"]').attr('type','number');\r\n//         }\r\n//\r\n//         $submitBtn.click(function (e) {\r\n//             e.preventDefault();\r\n//\r\n//             var $this = $(this);\r\n//             var $thisForm = $this.closest('form');\r\n//             if ($this.hasClass('disabled')) {\r\n//                 return false;\r\n//             }\r\n//             var $forms = $thisForm.find('[data-validate]');\r\n//             var result = formChecking($forms, true);\r\n//             if (result) {\r\n//                 if (submitFunction) {\r\n//                     $this.addClass('disabled');\r\n//                     submitFunction($thisForm);\r\n//                 }\r\n//                 else{\r\n//                     setTimeout(function() {\r\n//                         $thisForm.submit();\r\n//                     }, 50);\r\n//                 }\r\n//             }\r\n//             else {\r\n//                 $forms.on('keyup keypress change', function () {\r\n//                     var $current = $(this);\r\n//                     setTimeout(function () {\r\n//                         formChecking($current, true);\r\n//                     }, 100);\r\n//                 });\r\n//             }\r\n//\r\n//             return false;\r\n//         });\r\n//\r\n//         $(document).on('keydown', function (e) {\r\n//             return true;\r\n//             if (e.keyCode == 13) {\r\n//                 var $thisFocus = $(document.activeElement);\r\n//                 if ($thisFocus.is('textarea')) {\r\n//                     return true;\r\n//                 }\r\n//                 if ($thisFocus.closest('.form-select').length) {\r\n//                     return true;\r\n//                 }\r\n//                 if ($thisFocus.closest('.is-form-validation').length) {\r\n//                     $submitBtn.trigger('click');\r\n//                 }\r\n//                 return false;\r\n//             }\r\n//         });\r\n//\r\n//\r\n//         function formChecking($inp, onFocus) {\r\n//\r\n//             onFocus = onFocus || false;\r\n//             var noError = true;\r\n//\r\n//             $inp.each(function (ind, elm) {\r\n//\r\n//                 var $this = $(elm);\r\n//                 var mask = $this.data('validate');\r\n//                 var value = $this.val();\r\n//                 var placeHolder = $this.attr('placeholder');\r\n//\r\n//                 if($this.is(':visible')){\r\n//                     if (mask == 'text') {\r\n//                         if ((value.length < 1) || (value == placeHolder)) {\r\n//                             noError = false;\r\n//                             $this.closest('.form-input').addClass('show-error');\r\n//                             $this.closest('.form-input').find('.form-item-error').slideDown(200);\r\n//                             if (onFocus) {\r\n//                                 if(!device.ios()){\r\n//                                     $this.focus();\r\n//                                     onFocus = false;\r\n//                                 }\r\n//                             }\r\n//                         } else {\r\n//                             $this.closest('.form-input').removeClass('show-error');\r\n//                             $this.closest('.form-input').find('.form-item-error').slideUp(200);\r\n//                         }\r\n//                     }\r\n//\r\n//                     if (mask == 'phone') {\r\n//                         if ((value.length < 1) || (value.indexOf('-') > -1)) {\r\n//                             noError = false;\r\n//                             $this.closest('.form-input').addClass('show-error');\r\n//                             $this.closest('.form-input').find('.form-item-error').slideDown(200);\r\n//                         } else {\r\n//                             $this.closest('.form-input').removeClass('show-error');\r\n//                             $this.closest('.form-input').find('.form-item-error').slideUp(200);\r\n//                         }\r\n//                     }\r\n//\r\n//                     if (mask == 'file') {\r\n//                         if (value.length < 2) {\r\n//                             noError = false;\r\n//                             $this.closest('.form-file').addClass('show-error');\r\n//                             if (onFocus) {\r\n//                                 $this.focus();\r\n//                                 onFocus = false;\r\n//                             }\r\n//                         } else {\r\n//                             $this.closest('.form-file').removeClass('show-error');\r\n//                         }\r\n//                     }\r\n//\r\n//                     if (mask == 'textarea') {\r\n//                         if ((value.length < 3) || (value == placeHolder)) {\r\n//                             noError = false;\r\n//                             $this.closest('.form-textarea').addClass('show-error');\r\n//                             $this.closest('.form-textarea').find('.form-item-error').slideDown(200);\r\n//                             if (onFocus) {\r\n//                                 if(!device.ios()){\r\n//                                     $this.focus();\r\n//                                     onFocus = false;\r\n//                                 }\r\n//                             }\r\n//                         } else {\r\n//                             $this.closest('.form-textarea').removeClass('show-error');\r\n//                             $this.closest('.form-textarea').find('.form-item-error').slideUp(200);\r\n//                         }\r\n//                     }\r\n//\r\n//                     if (mask == 'email') {\r\n//                         if(value != ''){\r\n//                             var regex = /^([A-Za-z0-9_\\-\\.])+\\@([A-Za-z0-9_\\-\\.])+\\.([A-Za-z]{2,5})$/;\r\n//                             if (!regex.test(value) || (value == placeHolder)) {\r\n//                                 noError = false;\r\n//                                 $this.closest('.form-input').addClass('show-error');\r\n//                                 $this.closest('.form-input').find('.form-item-error').slideDown(200);\r\n//                                 if (onFocus) {\r\n//                                     if(!device.ios()){\r\n//                                         $this.focus();\r\n//                                         onFocus = false;\r\n//                                     }\r\n//                                 }\r\n//                             } else {\r\n//                                 $this.closest('.form-input').removeClass('show-error');\r\n//                                 $this.closest('.form-input').find('.form-item-error').slideUp(200);\r\n//                             }\r\n//                         }\r\n//                     }\r\n//\r\n//                     if(mask == \"email-required\"){\r\n//                         var regex = /^([A-Za-z0-9_\\-\\.])+\\@([A-Za-z0-9_\\-\\.])+\\.([A-Za-z]{2,5})$/;\r\n//                         if (!regex.test(value) || (value == placeHolder)) {\r\n//                             noError = false;\r\n//                             $this.closest('.form-input').addClass('show-error');\r\n//                             $this.closest('.form-input').find('.form-item-error').slideDown(200);\r\n//                             if (onFocus) {\r\n//                                 if(!device.ios()){\r\n//                                     $this.focus();\r\n//                                     onFocus = false;\r\n//                                 }\r\n//                             }\r\n//                         } else {\r\n//                             $this.closest('.form-input').removeClass('show-error');\r\n//                             $this.closest('.form-input').find('.form-item-error').slideUp(200);\r\n//                         }\r\n//                     }\r\n//\r\n//                     if (mask == 'filter-email') {\r\n//                         var regex = /^([A-Za-z0-9_\\-\\.])+\\@([A-Za-z0-9_\\-\\.])+\\.([A-Za-z]{2,4})$/;\r\n//                         if (regex.test(value) || (value == '')) {\r\n//                             $this.closest('.form-input').removeClass('show-error');\r\n//                             $this.closest('.form-input').find('.form-item-error').slideUp(200);\r\n//                         } else {\r\n//                             noError = false;\r\n//                             $this.closest('.form-input').addClass('show-error');\r\n//                             $this.closest('.form-input').find('.form-item-error').slideDown(200);\r\n//                             if (onFocus) {\r\n//                                 if(!device.ios()){\r\n//                                     $this.focus();\r\n//                                     onFocus = false;\r\n//                                 }\r\n//                             }\r\n//                         }\r\n//                     }\r\n//\r\n//                     if (mask == 'select') {\r\n//                         if (!value) {\r\n//                             noError = false;\r\n//                             if (onFocus) {\r\n//                                 onFocus = false;\r\n//                             }\r\n//                             $this.closest('.form-select').addClass('show-error');\r\n//                             $this.closest('.form-select').find('.form-item-error').slideDown(200);\r\n//                         } else {\r\n//                             $this.closest('.form-select').removeClass('show-error');\r\n//                             $this.closest('.form-select').find('.form-item-error').slideUp(200);\r\n//                         }\r\n//                     }\r\n//\r\n//                     if (mask == 'checkbox') {\r\n//                         if (!$this.is(':checked')) {\r\n//                             noError = false;\r\n//                             if (onFocus) {\r\n//                                 onFocus = false;\r\n//                             }\r\n//                             $this.closest('.form-checkbox').addClass('show-error');\r\n//                             $this.closest('.form-checkbox').find('.form-item-error').slideUp(200);\r\n//                         } else {\r\n//                             $this.closest('.form-checkbox').removeClass('show-error');\r\n//                             $this.closest('.form-checkbox').find('.form-item-error').slideUp(200);\r\n//                         }\r\n//                     }\r\n//\r\n//                     if (mask == 'captcha') {\r\n//                         var response = grecaptcha.getResponse();\r\n//                         if (response.length == 0){\r\n//                             noError = false;\r\n//                             if (onFocus) {\r\n//                                 onFocus = false;\r\n//                             }\r\n//                             $this.addClass('show-error');\r\n//                         } else {\r\n//                             $this.removeClass('show-error');\r\n//                         }\r\n//                     }\r\n//\r\n//                     if (mask == 'serial-number'){\r\n//                         var regex = /[0-9]{9,}/;\r\n//                         if (!regex.test(value) || (value == placeHolder)) {\r\n//                             noError = false;\r\n//                             $this.closest('.form-input').addClass('show-error');\r\n//                             $this.closest('.form-input').find('.form-item-error').slideDown(200);\r\n//                             if (onFocus) {\r\n//                                 if(!device.ios()){\r\n//                                     $this.focus();\r\n//                                     onFocus = false;\r\n//                                 }\r\n//                             }\r\n//                         } else {\r\n//                             $this.closest('.form-input').removeClass('show-error');\r\n//                             $this.closest('.form-input').find('.form-item-error').slideUp(200);\r\n//                         }\r\n//                     }\r\n//\r\n//                     if (mask == 'pass') {\r\n//                         if (value.length < 6) {\r\n//                             noError = false;\r\n//                             $this.closest('.form-input').addClass('show-error');\r\n//                             $this.closest('.form-input').find('.form-item-error').slideDown(200);\r\n//                             if (onFocus) {\r\n//                                 if(!device.ios()){\r\n//                                     $this.focus();\r\n//                                     onFocus = false;\r\n//                                 }\r\n//                             }\r\n//                         } else {\r\n//                             $this.closest('.form-input').removeClass('show-error');\r\n//                             $this.closest('.form-input').find('.form-item-error').slideUp(200);\r\n//                         }\r\n//                     }\r\n//\r\n//                     if(mask == 'two-pass'){\r\n//                         var pass = $('.fancybox-inner .password').val();\r\n//                         if(value == '' || value != pass){\r\n//                             noError = false;\r\n//                             $this.closest('.form-input').addClass('show-error');\r\n//                             $this.closest('.form-input').find('.form-item-error').slideDown(200);\r\n//                             if (onFocus) {\r\n//                                 if(!device.ios()){\r\n//                                     $this.focus();\r\n//                                     onFocus = false;\r\n//                                 }\r\n//                             }\r\n//                         }\r\n//                         else{\r\n//                             $this.closest('.form-input').removeClass('show-error');\r\n//                             $this.closest('.form-input').find('.form-item-error').slideUp(200);\r\n//                         }\r\n//                     }\r\n//\r\n//                     if(mask == 'date'){\r\n//                         if (value.length < 1) {\r\n//                             noError = false;\r\n//                             $this.closest('.form-input').addClass('show-error');\r\n//                             $this.closest('.form-input').find('.form-item-error').slideDown(200);\r\n//                             if (onFocus) {\r\n//                                 if(!device.ios()){\r\n//                                     $this.focus();\r\n//                                     onFocus = false;\r\n//                                 }\r\n//                             }\r\n//                         } else {\r\n//                             $this.closest('.form-input').removeClass('show-error');\r\n//                             $this.closest('.form-input').find('.form-item-error').slideUp(200);\r\n//                         }\r\n//                     }\r\n//                 }\r\n//             });\r\n//\r\n//             setTimeout(function(){\r\n//                 $.fancybox.update();\r\n//             },300);\r\n//\r\n//             return noError;\r\n//         }\r\n//     },\r\n//     'sliderSwiper': function () {\r\n//         if($('.js-main-slider').length> 0){\r\n//             console.log('swiper');\r\n//\r\n//             var configMain = {\r\n//                     slidesPerView: 1,\r\n//                     centeredSlides: false,\r\n//                     paginationClickable: true,\r\n//                     spaceBetween: 0,\r\n//                     pagination: '.swiper-pagination',\r\n//                     onSlideChangeStart: function(){\r\n//                     }\r\n//                 },\r\n//                 $mainSlider = $('.js-main-slider');\r\n//\r\n//             if($('.js-main-slider .swiper-slide').length > 1){\r\n//                 var $mainSwiper = $mainSlider.swiper(configMain);\r\n//             }\r\n//         }\r\n//\r\n//         if($('.js-quote-slider').length > 0){\r\n//             var configQuote = {\r\n//                     slidesPerView: 1,\r\n//                     centeredSlides: false,\r\n//                     paginationClickable: true,\r\n//                     spaceBetween: 0,\r\n//                     pagination: '.swiper-pagination',\r\n//                     onSlideChangeStart: function(){\r\n//                     }\r\n//                 },\r\n//                 $quoteSlider = $('.js-quote-slider');\r\n//\r\n//             if($('.js-main-slider .swiper-slide').length > 1){\r\n//                 var $quoteSwiper = $quoteSlider.swiper(configQuote);\r\n//             }\r\n//         }\r\n//\r\n//     },\r\n// };\r\n//\r\n// $(document).ready(function () {\r\n//     moduleApp.init();\r\n// });\r\n\r\n\r\nvar $window, $document, $html;\r\n\r\nvar pageApp = {\r\n    'init': function(){\r\n        var $thisApp = $('#app');\r\n        var curApp = $thisApp.attr('data-app');\r\n        this.globalPollifil();\r\n        if (pageApp[curApp]) { pageApp[curApp]($thisApp); }\r\n    },\r\n    'page-address':function($thisApp){\r\n        var $mapPlace = $thisApp.find('[data-target=\"ymap\"]');\r\n        ymaps.ready(function() {\r\n\r\n            var mapLat = 55.751244;\r\n            var mapLng = 37.618423;\r\n            var mapZoom = 16;\r\n\r\n            var map = new ymaps.Map($mapPlace[0], {\r\n                center: [mapLat, mapLng],\r\n                zoom: mapZoom,\r\n                type: 'yandex#publicMap',\r\n                controls: [],\r\n                behaviors: ['drag', 'dblClickZoom']\r\n            });\r\n\r\n            map.controls.add(\r\n                new ymaps.control.ZoomControl(),\r\n                {\r\n                    float: \"none\",\r\n                    position: {\r\n                        top: 30,\r\n                        right: 30\r\n                    }\r\n                }\r\n            );\r\n\r\n            var marker = new ymaps.Placemark(map.getCenter(), {\r\n\r\n            }, {\r\n                iconLayout: 'default#image',\r\n                iconImageHref: '/assets/img/map-pin.png',\r\n                iconImageSize: [50,64],\r\n                hideIconOnBalloonOpen: false\r\n            });\r\n\r\n\r\n\r\n            map.geoObjects.add(marker);\r\n\r\n\r\n        });\r\n    },\r\n    'globalPollifil': function(){\r\n        if (!('classList' in document.documentElement) && Object.defineProperty && typeof HTMLElement !== 'undefined') {\r\n            Object.defineProperty(HTMLElement.prototype, 'classList', {\r\n                get: function() {\r\n                    var self = this;\r\n\r\n                    function update(fn) {\r\n                        return function(value) {\r\n                            var classes = self.className.split(/\\s+/);\r\n                            var index = classes.indexOf(value);\r\n\r\n                            fn(classes, index, value);\r\n                            self.className = classes.join(' ');\r\n                        };\r\n                    }\r\n\r\n                    var ret = {\r\n                        add: update(function(classes, index, value) {\r\n                            ~index || classes.push(value);\r\n                        }),\r\n\r\n                        remove: update(function(classes, index) {\r\n                            ~index && classes.splice(index, 1);\r\n                        }),\r\n\r\n                        toggle: update(function(classes, index, value) {\r\n                            ~index ? classes.splice(index, 1) : classes.push(value);\r\n                        }),\r\n\r\n                        contains: function(value) {\r\n                            return !!~self.className.split(/\\s+/).indexOf(value);\r\n                        },\r\n\r\n                        item: function(i) {\r\n                            return self.className.split(/\\s+/)[i] || null;\r\n                        }\r\n                    };\r\n\r\n                    Object.defineProperty(ret, 'length', {\r\n                        get: function() {\r\n                            return self.className.split(/\\s+/).length;\r\n                        }\r\n                    });\r\n\r\n                    return ret;\r\n                }\r\n            });\r\n        }\r\n\r\n        (function() {\r\n            var lastTime = 0;\r\n            var vendors = ['ms', 'moz', 'webkit', 'o'];\r\n            for(var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {\r\n                window.requestAnimationFrame = window[vendors[x]+'RequestAnimationFrame'];\r\n                window.cancelAnimationFrame = window[vendors[x]+'CancelAnimationFrame']\r\n                    || window[vendors[x]+'CancelRequestAnimationFrame'];\r\n            }\r\n\r\n            if (!window.requestAnimationFrame)\r\n                window.requestAnimationFrame = function(callback, element) {\r\n                    var currTime = new Date().getTime();\r\n                    var timeToCall = Math.max(0, 16 - (currTime - lastTime));\r\n                    var id = window.setTimeout(function() { callback(currTime + timeToCall); },\r\n                        timeToCall);\r\n                    lastTime = currTime + timeToCall;\r\n                    return id;\r\n                };\r\n\r\n            if (!window.cancelAnimationFrame)\r\n                window.cancelAnimationFrame = function(id) {\r\n                    clearTimeout(id);\r\n                };\r\n        }());\r\n    },\r\n};\r\n\r\nvar moduleApp = {\r\n    'init': function () {\r\n        this.executeModules();\r\n        this.executeSFX();\r\n        this.globalActions();\r\n        this.toolsGlobalSubscribe();\r\n        this.pageLoader();\r\n        this.startupMessage();\r\n        this.scrollHeader();\r\n        this.anchorMenu();\r\n\r\n    },\r\n    'executeModules':function(){\r\n        $('[data-is]').each(function(i,thisModule){\r\n            var $thisModule = $(thisModule);\r\n            var thisModuleName = $thisModule.attr('data-is');\r\n            if(moduleApp[thisModuleName]) { moduleApp[thisModuleName]($thisModule); }\r\n        });\r\n    },\r\n    'executeSFX':function(){\r\n        if (appConfig.mobileVersion || device.tablet()) { return false; }\r\n        $('[data-sfx]').each(function(i,thisModule){\r\n            var $thisModule = $(thisModule);\r\n            var thisModuleName = $thisModule.attr('data-sfx');\r\n            if(moduleApp.SFXModules[thisModuleName]) { moduleApp.SFXModules[thisModuleName]($thisModule); }\r\n        });\r\n    },\r\n    'globalActions':function(){\r\n\r\n        // fancybox close\r\n        $document.on('click','.js-fancy-close',function(e){\r\n            e.preventDefault();\r\n            $.fancybox.close();\r\n        });\r\n\r\n\r\n        // feedback form\r\n        $('[data-gclick=\"feedbackForm\"]').on('click',function(e){\r\n            e.preventDefault();\r\n            var template = $('#fb-feedback-form').html();\r\n            $.fancybox.open({\r\n                wrapCSS : 'fb-fancy-default',\r\n                content: template,\r\n                padding: 0,\r\n                autoScale: false,\r\n                fitToView: false,\r\n                openEffect  : 'drop',\r\n                closeEffect: 'drop',\r\n                nextEffect: 'fade',\r\n                prevEffect : 'fade',\r\n                openSpeed: 300,\r\n                closeSpeed: 300,\r\n                nextSpeed: 300,\r\n                prevSpeed: 300,\r\n                beforeShow:function(){\r\n                    var $thisFancy = $('.fancybox-inner');\r\n\r\n                    var $thisChosen = $thisFancy.find('[data-is=\"chosen\"]');\r\n                    moduleApp.chosen($thisChosen);\r\n\r\n                    var $cityTarget = $thisFancy.find('.js-fb-city-target');\r\n\r\n                    $thisFancy.find('.js-fb-city-action').on('change',function(){\r\n                        var action = !!($(this).find('option:selected').attr('data-city'));\r\n                        if (action) {\r\n                            $cityTarget.slideDown(200, function(){\r\n                                if (!$cityTarget.hasClass('state-inited')) {\r\n                                    $cityTarget.addClass('state-inited');\r\n                                    $cityTarget.find('select').chosen({\r\n                                        no_results_text: \"Нет результатов\"\r\n                                    });\r\n                                }\r\n                            });\r\n                        }\r\n                        else {\r\n                            $cityTarget.slideUp(200);\r\n                        }\r\n                    });\r\n\r\n\r\n                    var $thisSubmit = $thisFancy.find('.js-fb-submit');\r\n                    moduleApp.formValidation($thisSubmit);\r\n\r\n\r\n\r\n                }\r\n            });\r\n        });\r\n\r\n\r\n        // find filial form\r\n        $('[data-gclick=\"findFilialForm\"]').on('click',function(e){\r\n            e.preventDefault();\r\n            var template = $('#fb-filial-form').html();\r\n\r\n            $.fancybox.open({\r\n                wrapCSS : 'fb-fancy-default',\r\n                content: template,\r\n                padding: 0,\r\n                autoScale: false,\r\n                fitToView: false,\r\n                openEffect  : 'drop',\r\n                closeEffect: 'drop',\r\n                nextEffect: 'fade',\r\n                prevEffect : 'fade',\r\n                openSpeed: 300,\r\n                closeSpeed: 300,\r\n                nextSpeed: 300,\r\n                prevSpeed: 300,\r\n                beforeShow:function(){\r\n                    var $thisFancy = $('.fancybox-inner');\r\n\r\n                    var $thisChosen = $thisFancy.find('[data-is=\"chosen\"]');\r\n                    moduleApp.chosen($thisChosen);\r\n\r\n                    var $thisSubmit = $thisFancy.find('.js-fb-submit');\r\n                    moduleApp.formValidation($thisSubmit, function($form){\r\n                        var template = '';\r\n\r\n                        $form.find('.js-fb-prod-type').each(function(i,thisSelect){\r\n                            var $thisSelect = $(thisSelect);\r\n\r\n                            var thisSelectedArray = $thisSelect.val() || [];\r\n                            if (thisSelectedArray.length === 0) { return true; }\r\n\r\n                            template += $.trim($thisSelect.closest('.is-form-select').find('.form-item-label').html()) + ':';\r\n\r\n                            $.each(thisSelectedArray, function(i,thisType){\r\n\r\n                                if (i===0) {\r\n                                    template += ' ' + thisType;\r\n                                } else {\r\n                                    template += ', ' + thisType;\r\n                                }\r\n\r\n                            });\r\n\r\n                            template += '\\n\\r';\r\n                        });\r\n\r\n                        $('.js-fb-prod-area').html(template);\r\n                        $form.submit();\r\n                    });\r\n                }\r\n            });\r\n        });\r\n    },\r\n    'toolsGlobalSubscribe':function($thisModule){\r\n        $document.on('click','.ts-submit',function(e){\r\n            e.preventDefault();\r\n            var $this = $(this);\r\n            var $parent =  $this.closest('.is-tools-subscribe');\r\n            var $thisInput = $parent.find('.ts-input');\r\n            var regexEmail = /^([A-Za-z0-9_\\-\\.])+\\@([A-Za-z0-9_\\-\\.])+\\.([A-Za-z]{2,4})$/;\r\n\r\n\r\n            if (regexEmail.test($thisInput.val()) && $thisInput.val().length > 0) {\r\n                $parent.find('.ts-form').submit();\r\n            } else {\r\n                $thisInput.addClass('state-bounce');\r\n                setTimeout(function(){\r\n                    $thisInput.removeClass('state-bounce').focus();\r\n                }, 400);\r\n            }\r\n\r\n        });\r\n    },\r\n    'pageLoader': function(){\r\n        $document.on('click','a',function(){\r\n            var $this = $(this);\r\n            var noProgress = false;\r\n\r\n            var href = $this.attr('href');\r\n            var targetBlank = $this.attr('target') || false;\r\n            var inSwiper = $this.closest('.swiper-container').length;\r\n            var downloadAttr = $this.attr('download');\r\n            if (typeof downloadAttr !== typeof undefined && downloadAttr !== false) {\r\n                noProgress = true;\r\n            }\r\n\r\n            if (\r\n                !href ||\r\n                href.indexOf('mailto') > -1 ||\r\n                href.indexOf('#') > -1 ||\r\n                href.indexOf('javascript') > -1 ||\r\n                href.indexOf('tel') > -1 ||\r\n                $this.hasClass('no-preloader') ||\r\n                $this.hasClass('js-fancy-image') ||\r\n                href.length === 0 ||\r\n                href === 'undefined' ||\r\n                targetBlank ||\r\n                inSwiper\r\n            ) { noProgress = true; }\r\n\r\n            if (noProgress) {\r\n                return true;\r\n            } else {\r\n                $(\"#body\").removeClass('jsfx-loaded');\r\n                return true;\r\n            }\r\n        });\r\n\r\n        $(\"#body\").addClass('jsfx-loaded');\r\n    },\r\n    'startupMessage':function(){\r\n        if (appConfig.startupMessage.title && appConfig.startupMessage.message) {\r\n            var template = '<div class=\"fb-modal-default\">';\r\n            template += '<div class=\"fbp-title\">'+appConfig.startupMessage.title+'</div>';\r\n            template += '<div class=\"fbp-message\">'+appConfig.startupMessage.message+'</div>';\r\n            template += '<div class=\"cntr\"><a href=\"#\" class=\"is-button-a js-fancy-close\"><span>Ок</span></a></div>';\r\n            template += '</div>';\r\n\r\n            $.fancybox.open({\r\n                wrapCSS : 'fb-fancy-default fb-fancy-no-close',\r\n                content: template,\r\n                padding: 0,\r\n                autoScale: false,\r\n                fitToView: false,\r\n                openEffect  : 'drop',\r\n                closeEffect: 'drop',\r\n                nextEffect: 'fade',\r\n                prevEffect : 'fade',\r\n                openSpeed: 300,\r\n                closeSpeed: 300,\r\n                nextSpeed: 300,\r\n                prevSpeed: 300\r\n            });\r\n        }\r\n    },\r\n    'scrollHeader': function(){\r\n        $window.bind('scroll',function(){\r\n            if($window.scrollTop() > 30){\r\n                $('.wrapper-header').addClass('up-header');\r\n            }\r\n            else{\r\n                $('.wrapper-header').removeClass('up-header');\r\n            }\r\n\r\n            if($window.scrollTop() > 200){\r\n                $('.wrapper-header').addClass('small-header');\r\n            }\r\n            else{\r\n                $('.wrapper-header').removeClass('small-header');\r\n            }\r\n        });\r\n\r\n        if($window.scrollTop() > 30){\r\n            $('.wrapper-header').addClass('up-header');\r\n        }\r\n    },\r\n    'SFXModules':{\r\n        'sfx-a':function($thisModule){\r\n            var gfxFromLeft = {\r\n                'data-when':'enter',\r\n                'data-from':'.8',\r\n                'data-to':'0',\r\n                'data-translatex':'-40'\r\n            };\r\n\r\n            var gfxFromRight = {\r\n                'data-when':'enter',\r\n                'data-from':'.8',\r\n                'data-to':'0',\r\n                'data-translatex':'40'\r\n            };\r\n\r\n            $thisModule.find('.lt-column-left .lt-tile').addClass('scrollme animateme').attr(gfxFromLeft);\r\n            $thisModule.find('.lt-column-right .lt-tile').addClass('scrollme animateme').attr(gfxFromRight);\r\n        },\r\n        'sfx-b':function($thisModule){\r\n            var gfxFromLeft = {\r\n                'data-when':'enter',\r\n                'data-from':'.8',\r\n                'data-to':'0',\r\n                'data-translatex':'-40'\r\n            };\r\n\r\n            var gfxFormRight = {\r\n                'data-when':'enter',\r\n                'data-from':'.8',\r\n                'data-to':'0',\r\n                'data-translatex':'40'\r\n            };\r\n\r\n            $thisModule.find('.lt-row:even').find('.lt-row-content-inner').addClass('scrollme animateme').attr(gfxFromLeft);\r\n            $thisModule.find('.lt-row:even').find('.lt-row-image').addClass('scrollme animateme').attr(gfxFormRight);\r\n            $thisModule.find('.lt-row:odd').find('.lt-row-content-inner').addClass('scrollme animateme').attr(gfxFormRight);\r\n            $thisModule.find('.lt-row:odd').find('.lt-row-image').addClass('scrollme animateme').attr(gfxFromLeft);\r\n        },\r\n        'sfx-c':function($thisModule){\r\n            var gfxFromRight = {\r\n                'data-when':'enter',\r\n                'data-from':'.8',\r\n                'data-to':'0',\r\n                'data-translatex':'40'\r\n            };\r\n\r\n            $thisModule.addClass('scrollme animateme').attr(gfxFromRight);\r\n        },\r\n        'sfx-d':function($thisModule){\r\n            return false;\r\n            var gfxFromLeft = {\r\n                'data-when':'enter',\r\n                'data-from':'.8',\r\n                'data-to':'0',\r\n                'data-translatex':'-40'\r\n            };\r\n\r\n            var gfxFormRight = {\r\n                'data-when':'enter',\r\n                'data-from':'.8',\r\n                'data-to':'0',\r\n                'data-translatex':'40'\r\n            };\r\n\r\n            $thisModule.find('.lt-row:even').find('.lt-row-content-inner').addClass('scrollme animateme').attr(gfxFromLeft);\r\n            $thisModule.find('.lt-row:even').find('.lt-row-image').addClass('scrollme animateme').attr(gfxFormRight);\r\n            $thisModule.find('.lt-row:odd').find('.lt-row-content-inner').addClass('scrollme animateme').attr(gfxFormRight);\r\n            $thisModule.find('.lt-row:odd').find('.lt-row-image').addClass('scrollme animateme').attr(gfxFromLeft);\r\n        },\r\n        'sfx-e':function($thisModule){\r\n\r\n            var gfxFromLeft = {\r\n                'data-when':'enter',\r\n                'data-from':'.8',\r\n                'data-to':'0',\r\n                'data-opacity':'0'\r\n            };\r\n            $thisModule.find('.hc-year-box').addClass('scrollme animateme').attr(gfxFromLeft);\r\n        }\r\n    },\r\n    'formValidation': function ($submitBtn, submitFunction) {\r\n\r\n        var params = {\r\n            'formValidationAttr':'data-validation',\r\n            'formInputClass':'is-form-text',\r\n            'formCheckboxClass':'is-form-checkbox',\r\n            'formShowErrorClass':'form-show-error',\r\n            'submitDisabledClass':'state-disabled',\r\n            'submitProgressClass':'state-progress'\r\n        };\r\n\r\n        $submitBtn = $submitBtn || $('.js-form-submit');\r\n        submitFunction = submitFunction || false;\r\n        $submitBtn.closest('form').addClass('is-form-validation');\r\n        $submitBtn.click(function(e){\r\n            e.preventDefault();\r\n            var $this = $(this);\r\n            if ($this.hasClass(params.submitDisabledClass) || $this.hasClass(params.submitProgressClass)) {\r\n                return false;\r\n            }\r\n            var $form = $this.closest('form');\r\n            var $forms = $form.find('['+params.formValidationAttr+']');\r\n            var result = formChecking($forms, true);\r\n            if (result) {\r\n                if (submitFunction) {\r\n                    submitFunction($form);\r\n                } else {\r\n                    $this.addClass(params.submitProgressClass);\r\n                    $form.submit();\r\n                }\r\n            } else {\r\n                $forms.on('keyup keypress change', function(){\r\n                    var $current = $(this);\r\n                    setTimeout(function(){ formChecking($current); }, 50);\r\n                });\r\n            }\r\n            return false;\r\n        });\r\n\r\n        $(document).on('keydown', function (e) {\r\n            return true;\r\n            if (e.keyCode == 13) {\r\n                var $thisFocus = $(document.activeElement);\r\n                if ($thisFocus.is('textarea')) {\r\n                    return true;\r\n                }\r\n                if ($thisFocus.closest('.form-select').length) {\r\n                    return true;\r\n                }\r\n                if ($thisFocus.closest('.is-form-validation').length) {\r\n                    $submitBtn.trigger('click');\r\n                }\r\n                return false;\r\n            }\r\n        });\r\n\r\n        function formChecking($inp, onFocus) {\r\n\r\n\r\n            onFocus = onFocus || false;\r\n\r\n            var noError = true;\r\n\r\n            $inp.each(function (ind, elm) {\r\n                var $this = $(elm);\r\n\r\n                var mask = $this.attr(params.formValidationAttr);\r\n                var value = $this.val();\r\n                var placeHolder = $this.attr('placeholder');\r\n                var regex;\r\n                var subError = true;\r\n\r\n                if (mask == 'text') {\r\n                    if ((value.length < 1) || (value == placeHolder)) {\r\n                        noError = false;\r\n                        $this.closest('.'+params.formInputClass).addClass(params.formShowErrorClass);\r\n                        if (onFocus) {\r\n                            $this.focus();\r\n                            onFocus = false;\r\n                        }\r\n                    } else {\r\n                        $this.closest('.'+params.formInputClass).removeClass(params.formShowErrorClass);\r\n                    }\r\n                }\r\n\r\n                if (mask == 'text-visible') {\r\n                    if ($this.is(':visible') && ((value.length < 1) || (value == placeHolder))) {\r\n                        noError = false;\r\n                        $this.closest('.'+params.formInputClass).addClass(params.formShowErrorClass);\r\n                        if (onFocus) {\r\n                            $this.focus();\r\n                            onFocus = false;\r\n                        }\r\n                    } else {\r\n                        $this.closest('.'+params.formInputClass).removeClass(params.formShowErrorClass);\r\n                    }\r\n                }\r\n\r\n                if (mask == 'email') {\r\n                    regex = /^([A-Za-z0-9_\\-\\.])+\\@([A-Za-z0-9_\\-\\.])+\\.([A-Za-z]{2,4})$/;\r\n                    if (!regex.test(value) || (value == placeHolder)) {\r\n                        noError = false;\r\n                        $this.closest('.'+params.formInputClass).addClass(params.formShowErrorClass);\r\n                        if (onFocus) {\r\n                            $this.focus();\r\n                            onFocus = false;\r\n                        }\r\n                    } else {\r\n                        $this.closest('.'+params.formInputClass).removeClass(params.formShowErrorClass);\r\n                    }\r\n                }\r\n\r\n                if (mask == 'email-visible') {\r\n                    regex = /^([A-Za-z0-9_\\-\\.])+\\@([A-Za-z0-9_\\-\\.])+\\.([A-Za-z]{2,4})$/;\r\n                    if ($this.is(':visible') && (!regex.test(value) || (value == placeHolder))) {\r\n                        noError = false;\r\n                        $this.closest('.'+params.formInputClass).addClass(params.formShowErrorClass);\r\n                        if (onFocus) {\r\n                            $this.focus();\r\n                            onFocus = false;\r\n                        }\r\n                    } else {\r\n                        $this.closest('.'+params.formInputClass).removeClass(params.formShowErrorClass);\r\n                    }\r\n                }\r\n\r\n                if (mask == 'opt-email') {\r\n                    regex = /^([A-Za-z0-9_\\-\\.])+\\@([A-Za-z0-9_\\-\\.])+\\.([A-Za-z]{2,4})$/;\r\n                    if(value != ''){\r\n                        if (!regex.test(value) || (value == placeHolder)) {\r\n                            noError = false;\r\n                            $this.closest('.'+params.formInputClass).addClass(params.formShowErrorClass);\r\n                            if (onFocus) {\r\n                                $this.focus();\r\n                                onFocus = false;\r\n                            }\r\n                        } else {\r\n                            $this.closest('.'+params.formInputClass).removeClass(params.formShowErrorClass);\r\n                        }\r\n                    } else {\r\n                        $this.closest('.'+params.formInputClass).removeClass(params.formShowErrorClass);\r\n                    }\r\n                }\r\n\r\n                if (mask == 'file') {\r\n                    var parts = $(this).val().split('.');\r\n                    if (parts==\"\"){\r\n                        noError = false;\r\n                        $this.closest('.'+params.formInputClass).addClass(params.formShowErrorClass);\r\n                        if (onFocus) {\r\n                            $this.focus();\r\n                            onFocus = false;\r\n                        }\r\n                    }\r\n                    else {\r\n                        $this.closest('.'+params.formInputClass).removeClass(params.formShowErrorClass);\r\n                    }\r\n                }\r\n\r\n                if (mask == 'checkbox') {\r\n                    if ($this.is(':visible') && (!$this.is(':checked'))) {\r\n                        noError = false;\r\n                        $this.closest('.'+params.formCheckboxClass).addClass(params.formShowErrorClass);\r\n                    } else {\r\n                        $this.closest('.'+params.formCheckboxClass).removeClass(params.formShowErrorClass);\r\n                    }\r\n                }\r\n\r\n                if (mask == 'vacancy-file-link') {\r\n\r\n                    var $thisGroup = $('['+params.formValidationAttr+'=\"vacancy-file-link\"]:visible');\r\n\r\n                    if ($thisGroup.length === 0) { return true; }\r\n\r\n                    $thisGroup.each(function(i,e){\r\n                        if ($(e).val().length > 0) { subError = false; }\r\n                    });\r\n\r\n                    if (subError) {\r\n                        noError = false;\r\n                        $thisGroup.closest('.'+params.formInputClass).addClass(params.formShowErrorClass);\r\n                    } else {\r\n                        $thisGroup.closest('.'+params.formInputClass).removeClass(params.formShowErrorClass);\r\n                    }\r\n\r\n                }\r\n\r\n            });\r\n\r\n            return noError;\r\n        }\r\n\r\n\r\n        // add mask\r\n\r\n        $submitBtn.closest('form').find('[data-mask]').each(function(i,thisForm){\r\n            var $thisForm = $(thisForm);\r\n            var thisMask = $thisForm.attr('data-mask');\r\n            if (thisMask==\"phone\") { $thisForm.addClass('state-with-mask').mask(\"+7 (999) 999 99 99\", {placeholder:\"–\"}); }\r\n        });\r\n    },\r\n    'main-slider': function($thisModule){\r\n        var configMain = {\r\n                slidesPerView: 1,\r\n                centeredSlides: false,\r\n                spaceBetween: 0,\r\n                'nextButton': $thisModule.find('.is-slider-swiper-next')[0],\r\n                'prevButton': $thisModule.find('.is-slider-swiper-prev')[0]\r\n        };\r\n\r\n        $thisModule.find('.swiper-container').swiper(configMain);\r\n    },\r\n    'quote-slider': function($thisModule){\r\n        var configQuote = {\r\n                slidesPerView: 1,\r\n                centeredSlides: false,\r\n                paginationClickable: true,\r\n                spaceBetween: 0,\r\n                pagination: '.swiper-pagination',\r\n                'nextButton': $thisModule.find('.is-slider-swiper-next')[0],\r\n                'prevButton': $thisModule.find('.is-slider-swiper-prev')[0]\r\n            };\r\n        $thisModule.find('.swiper-container').swiper(configQuote);\r\n        // if($('.js-main-slider .swiper-slide').length > 1){\r\n        //     var $quoteSwiper = $quoteSlider.swiper(configQuote);\r\n        // }\r\n    },\r\n    'down-window': function ($thisModule) {\r\n        $thisModule.on('click',function(e){\r\n            e.preventDefault();\r\n            var heightScroll = $window.height();\r\n            $('html,body').animate({'scrollTop': heightScroll}, 500);\r\n        });\r\n    },\r\n    'top-window': function($thisModule){\r\n        $thisModule.on('click',function(e){\r\n            e.preventDefault();\r\n\r\n            $('html,body').animate({'scrollTop': 0}, 500);\r\n        });\r\n\r\n        if($window.scrollTop() < 1200){\r\n            $thisModule.addClass('disabled');\r\n        }\r\n        else{\r\n            $thisModule.removeClass('disabled');\r\n        }\r\n\r\n        $window.bind('scroll',function(){\r\n            if($window.scrollTop() < 1200){\r\n                $thisModule.addClass('disabled');\r\n            }\r\n            else{\r\n                $thisModule.removeClass('disabled');\r\n            }\r\n        });\r\n    },\r\n    'anchorMenu': function(){\r\n        $('.js-link-anchor').on('click', function(e){\r\n            e.preventDefault();\r\n\r\n            var $this = $(this),\r\n                elementName = $this.attr('href'),\r\n                topPositionElement = $(elementName).position().top;\r\n\r\n            if(elementName.length > 1){\r\n                $('html,body').animate({'scrollTop': topPositionElement}, 500);\r\n            }\r\n\r\n        })\r\n    }\r\n};\r\n\r\n\r\n$(document).ready(function(){\r\n    // init globals\r\n    $window = $(window);\r\n    $document = $(document);\r\n    $html = $('html');\r\n\r\n    pageApp.init();\r\n    moduleApp.init();\r\n\r\n});\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"file":"main.js"}